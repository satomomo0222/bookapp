<% provide(:title, "基本情報の編集") %>

<section class="hero is-fullheight-with-navbar">
  <div class="hero-body has-text-centered">
    <div class="setup">
      <%# <img src="https://logoipsum.com/logo/logo-1.svg" width="325px" /> %>
      <div class="is-size-3 my-5">基本情報の編集</div>
      <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
      <%= render "devise/shared/error_messages", resource: resource %>
        <div class="field">
          <div class="control">
            <%= f.label :email, "メールアドレス"%>
            <span class="has-text-danger">*</span>
            <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "input is-medium is-rounded textbox", placeholder:"hello@example.com", required: true %>
          </div>
        </div>

        <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
          <div>現在メール確認待ちです: <%= resource.unconfirmed_email %></div>
        <% end %>
        
        <div class="field">
          <%= f.label :current_password , "現在のパスワードを入力してください"%>
          <span class="has-text-danger">*</span>
          <%= f.password_field :current_password, autocomplete: "current-password" ,class:"input is-medium is-rounded textbox", placeholder:"**********"%>
        </div>

        <div class="field">
          <div class="control">
            <%= f.label :password, "新しいパスワードを入力" , class: "is-inline"%> 
            <% if @minimum_password_length %>
              <em>(<%= @minimum_password_length %> 文字以上)</em>
            <% end %>
            <br/><i>(変更しない場合は空欄にしてください)</i><br />
            <%= f.password_field :password, autocomplete: "new-password", class:"input is-medium is-rounded textbox", placeholder:"**********" %>
          </div>
        </div>

        <div class="field">
          <div class="control">
            <%= f.label :password_confirmation, "新しいパスワードの確認" %>
            <%= f.password_field :password_confirmation, autocomplete: "new-password", class:"input is-medium is-rounded textbox", placeholder:"**********"%>
          </div>
        </div>

        <br/>
        <%= f.submit "基本情報の更新", class: "button is-primary is-block is-fullwidth is-medium is-rounded" %>
        
      <% end %>
      <br>
      <div class="is-size-3 my-5">アカウントの削除</div>
      <%= button_to "削除", registration_path(resource_name), data: { confirm: "本当に削除しますか？" }, method: :delete , class: "button is-danger is-block is-fullwidth is-medium is-rounded" %>
    </div>
  </div>
</section>